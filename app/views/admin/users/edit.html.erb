<p id="notice"></p>
<div class="container">
 <div class="row">
  <div class ="mx-auto">
    <h2>会員情報編集</h2>
    <% if @user.errors.any? %>
       <%= @user.errors.count %>件のエラーが発生しました
       <ul>
         <% @user.errors.full_messages.each do |message| %>
           <li><%= message %></li>
         <% end %>
       </ul>
     <% end %>
    <%= form_with model:@user, url: admin_user_path(@user.id), method: :patch do |f| %>

      <div class="field">
        <%= f.label :"ユーザーネーム" %><br />
        <%= f.text_field :name, autofocus: true, autocomplete: "name", size: "50x10" %>
      </div>

      <div class="field">
        <%= f.label :"Eメール" %><br />
        <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
      </div>
      <br>
      <% if @user.is_deleted? %>
        <%= link_to admin_user_toggle_path(@user.id), method: :patch, "data-confirm" => "有効にさせますか？" do %>
          <span class="btn btn-info">有効にする</span>
        <% end %>
      <% else %>
        <%= link_to "退会させる", admin_user_toggle_path(@user.id), method: :patch, "data-confirm" => "退会させますか？", class: "btn btn-danger btn-block mb-3" %>
      <% end %>
      <%= f.submit "変更保存", class:"btn btn-success btn-block mb-3" %>
    <% end %>

  </div>
 </div>
</div>
